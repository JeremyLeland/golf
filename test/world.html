<link rel='stylesheet' href='../style.css'>

<body></body>

<script type='module'>
  import { Game } from '../src/Game.js';
  import { Level } from '../src/Level.js';
  import { World } from '../src/World.js';
  import { Ball } from '../src/Ball.js';

  const ball = new Ball();
  const level = new Level();
  const world = new World();

  level.spawn( ball );

  const game = new Game();

  game.scrollX = 300;

  game.update = ( dt ) => {
    world.update( { ball: ball, walls: level.getWallsNear( ball ), dt: dt } );

    game.scrollX = window.innerWidth / 2 - ball.x;
    game.scrollY = window.innerHeight / 2 - ball.y;
  };

  game.draw = ( ctx ) => {
    ball.draw( ctx );
    level.draw( ctx );
  };

</script>